<!DOCTYPE html>
<html lang="en">
  <%- include('./components/head') %>
  <body>
    <!-- Mobile Toggle Button -->
    <button class="mobile-toggle" onclick="document.getElementById('sidebar').classList.toggle('active')">
        <i class="mdi mdi-menu"></i>
    </button>

    <div class="container-scroller">
      <!-- partial:partials/_sidebar.html -->
      <%- include('./components/sidebar') %>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.4.0/clipboard.min.js" integrity="sha512-iJh0F10blr9SC3d0Ow1ZKHi9kt12NYa+ISlmCdlCdNZzFwjH1JppRTeAnypvUez01HroZhAmP4ro4AvZ/rG0UQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
      <!-- partial -->
      <div class="container-fluid page-body-wrapper">
        <div class="main-panel">
          <div class="content-wrapper">
           
            <div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4">
                <div>
                    <h2 class="mb-1" style="font-weight: 700; letter-spacing: -0.025em; font-size: 1.8rem;">Buy Coins</h2>
                    <p class="text-gray mb-0">Purchase coins securely using your card via Stripe.</p>
                </div>
            </div>

            <div class="row">
              <div class="col-md-8 mx-auto grid-margin stretch-card">
                <div class="card" style="background: var(--card); border: 1px solid var(--border);">
                  <div class="card-body">
                    <div class="d-flex align-items-center mb-4">
                        <i class="mdi mdi-credit-card-outline mr-3" style="font-size: 2rem; color: var(--primary);"></i>
                        <div>
                            <h4 class="card-title mb-0">Billing Details</h4>
                            <p class="text-gray mb-0">Exchange Rate: £1.00 = <%= settings.stripe.coins %> Coins</p>
                        </div>
                    </div>

                    <form action="/buycoins" method="POST">
                       <div class="row">
                           <div class="col-md-12">
                               <div class="form-group mb-4">
                                 <label for="Amount" style="color: var(--muted-foreground); font-weight: 500;">Amount (£)</label>
                                 <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" style="background: var(--muted); border-color: var(--border); color: var(--muted-foreground);">£</span>
                                    </div>
                                    <input type="number" class="form-control" id="Amount" placeholder="5" name="amt" required style="background: var(--background); border-color: var(--border); color: var(--card-foreground);">
                                 </div>
                               </div>
                           </div>
                       </div>
                       
                       <div class="row">
                           <div class="col-md-6">
                               <div class="form-group mb-4">
                                 <label for="InputName1" style="color: var(--muted-foreground); font-weight: 500;">First Name</label>
                                 <input type="text" class="form-control" id="InputName1" placeholder="John" name="fn" required style="background: var(--background); border-color: var(--border); color: var(--card-foreground);">
                               </div>
                           </div>
                           <div class="col-md-6">
                               <div class="form-group mb-4">
                                 <label for="InputName2" style="color: var(--muted-foreground); font-weight: 500;">Last Name</label>
                                 <input type="text" class="form-control" id="InputName2" placeholder="Doe" name="sn" required style="background: var(--background); border-color: var(--border); color: var(--card-foreground);">
                               </div>
                           </div>
                       </div>

                       <div class="form-group mb-4">
                         <label for="InputNumber" style="color: var(--muted-foreground); font-weight: 500;">Credit Card Number</label>
                         <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text" style="background: var(--muted); border-color: var(--border); color: var(--muted-foreground);"><i class="mdi mdi-credit-card"></i></span>
                            </div>
                            <input type="text" class="form-control" id="InputNumber" name="number" placeholder="0000 0000 0000 0000" required style="background: var(--background); border-color: var(--border); color: var(--card-foreground);">
                         </div>
                       </div>

                       <div class="row">
                           <div class="col-md-4">
                               <div class="form-group mb-4">
                                 <label for="InputCVV" style="color: var(--muted-foreground); font-weight: 500;">CVV</label>
                                 <input type="text" class="form-control" id="InputCVV" name="vrf" placeholder="123" required style="background: var(--background); border-color: var(--border); color: var(--card-foreground);">
                               </div>
                           </div>
                           <div class="col-md-8">
                                <label style="color: var(--muted-foreground); font-weight: 500;">Expiration Date</label>
                                <div class="d-flex">
                                    <select class="form-control mr-2" name="month" style="background: var(--background); border-color: var(--border); color: var(--card-foreground);">
                                        <% for(let i=1; i<=12; i++) { %>
                                            <option value="<%= i %>"><%= i %></option>
                                        <% } %>
                                    </select>
                                    <select class="form-control" name="year" style="background: var(--background); border-color: var(--border); color: var(--card-foreground);">
                                        <% let currentYear = new Date().getFullYear(); %>
                                        <% for(let i=0; i<=10; i++) { %>
                                            <option value="<%= currentYear + i %>"><%= currentYear + i %></option>
                                        <% } %>
                                    </select>
                                </div>
                           </div>
                       </div>
                        
                       <div class="mt-4">
                         <button class="btn btn-primary btn-lg btn-block" type="submit" style="display: flex; align-items: center; justify-content: center;">
                             <i class="mdi mdi-lock-outline mr-2"></i> Pay Securely
                         </button>
                         <div class="text-center mt-3">
                             <small class="text-muted"><i class="mdi mdi-shield-check"></i> Transactions are secured by Stripe.</small>
                         </div>
                       </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- content-wrapper ends -->
          <%- include('./components/footer') %>
        </div>
        <!-- main-panel ends -->
      </div>
      <!-- page-body-wrapper ends -->
    </div>
    <!-- container-scroller -->
    <!-- plugins:js -->
    <!-- endinject -->
    <!-- Plugin js for this page -->
    <script src="/assets/vendors/select2/select2.min.js"></script>
    <script src="/assets/vendors/typeahead.js/typeahead.bundle.min.js"></script>
    <!-- End plugin js for this page -->
    <%- include('./components/scripts') %>
    <!-- Custom js for this page -->
    <script src="/assets/js/file-upload.js"></script>
    <script src="/assets/js/typeahead.js"></script>
    <script src="/assets/js/select2.js"></script>
    <!-- End custom js for this page -->
  </body>
</html>